import org.ifcx.extractor.ExtractJavadoc
import org.ifcx.extractor.GATE_Task
import org.ifcx.extractor.SplitJavadocSentences

apply plugin: 'java'
//apply plugin: 'idea'

sourceSets {
    main {
        java {
            srcDir 'open_jdk_tools/src/main/java'
        }
    }
}

task extractJavadoc(type: ExtractJavadoc) {
    source = sourceSets.main.java
    destinationDir = file('tmp/classes')
    classpath = files()
    options.compilerArgs = ['-printsource']

    htmlReport = file('tmp/newer-report.html')
    methodAbstracts = file('tmp/zzz-abstracts.txt')
}

task tagSentences(type: GATE_Task)  {
    source = files('tmp/newer-report.html')
    gateApp = file('tokenizer.xgapp')
    outputDirectory = file('tmp/taggedHtml')
}

task splitSentences(type: SplitJavadocSentences, dependsOn: extractJavadoc)  {
    source = files('tmp/zzz-abstracts.txt')
    gateApp = file('tokenizer.xgapp')
    outputDirectory = file('tmp/taggedHtml')
}
